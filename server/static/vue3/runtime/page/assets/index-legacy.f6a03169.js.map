{"version":3,"file":"index-legacy.f6a03169.js","sources":["../../../../../../packages/ui/src/text/src/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { computed, defineComponent, getCurrentInstance, h, inject, PropType } from 'vue';\n\nimport { MComponentInstance, MText, MTextInstance } from '../../../src/types';\nimport useApp from '../../useApp';\n\nexport default defineComponent({\n  props: {\n    config: {\n      type: Object as PropType<MText>,\n      default: () => ({}),\n    },\n\n    model: {\n      type: Object,\n      default: () => ({}),\n    },\n\n    vars: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    useApp(props);\n    const vm: MTextInstance = getCurrentInstance()?.proxy as MTextInstance;\n    const hoc: MComponentInstance = inject('hoc');\n    const displayText = computed(() => {\n      let text = props.config?.text || '';\n      const { vars } = props;\n      if (hoc?.disabled && props.config?.disabledText) {\n        text = props.config.disabledText;\n      }\n      if (typeof text === 'function') {\n        return text.bind(vm)(vm, { model: props.model });\n      }\n      if (Object.prototype.toString.call(vars) === '[object Object]') {\n        let tmp: string = text;\n        Object.entries(vars).forEach(([key, value]) => {\n          tmp = tmp.replace(new RegExp(`{{${key}}}`, 'g'), value);\n        });\n        return tmp;\n      }\n      return text || '';\n    });\n\n    return {\n      displayText,\n    };\n  },\n\n  render() {\n    const className = this.config?.multiple ? 'magic-ui-text' : 'magic-ui-text magic-ui-text--single-line';\n    if (typeof this.$slots?.default === 'function') {\n      return h('div', { class: className }, [this.$slots?.default?.() || '']);\n    }\n    return h('div', {\n      class: className,\n      ...(this.displayText ? { innerHTML: this.displayText } : {}),\n    });\n  },\n});\n</script>\n"],"names":["_sfc_main","Vue","defineComponent","props","config","type","Object","default","model","vars","setup","useApp","vm","hoc","displayText","text","disabled","disabledText","bind","prototype","toString","call","tmp","entries","forEach","key","value","replace","RegExp","render","className","this","multiple","$slots","h","class","innerHTML"],"mappings":"2KAMe,MAAAA,EAAAC,IAAgBC,gBAAA,CAAAC,MAAA,CACtBC,OAAA,CACGC,KAAAC,OACAC,QAAA,KAAA,CAAA,IAERC,MAAA,CAEOH,KAAAC,OACCC,QAAA,KAAA,CAAA,IAERE,KAAA,CAEMJ,KAAAC,OACEC,QAAA,KAAA,CAAA,KAGVG,MAAAP,GAEEQ,EAAAR,GACA,MAAAS,EAA0BX,gCAC1BY,EAAgCZ,kBAoBhC,MAAA,CAAOa,YAnBab,mBAClB,IAAAc,EAAAZ,EAAAC,QAAAW,MAAA,GACA,MAAAN,KAAAA,GAAAN,EAIA,GAHAU,GAAAG,UAAAb,EAAAC,QAAAa,eACEF,EAAAZ,EAAAC,OAAAa,cAEF,qBACE,OAAAF,EAAAG,KAAAN,EAAAG,CAAAH,EAAA,CAAAJ,MAAAL,EAAAK,QAEF,GAAA,oBAAAF,OAAAa,UAAAC,SAAAC,KAAAZ,GAAA,CACE,IAAAa,EAAAP,EAIA,OAHAT,OAAAiB,QAAAd,GAAAe,SAAA,EAAAC,EAAAC,MACEJ,EAAAA,EAAAK,QAAA,IAAAC,OAAA,KAAAH,MAAA,KAAAC,EAAA,IAEFJ,CAAO,CAET,OAAAP,GAAA,EAAA,IAKF,EACFc,SAGE,MAAAC,EAAAC,KAAA3B,QAAA4B,SAAA,gBAAA,2CACA,MAAA,mBAAAC,KAAAA,QAAA1B,QACWN,IAAAiC,EAAA,MAAA,CAAAC,MAAAL,GAAA,CAAAC,KAAAE,QAAA1B,aAAA,kBAEK4B,MAAAL,KACPC,KAAAjB,YAAA,CAAAsB,UAAAL,KAAAjB,aAAA,CAAA,GAER"}